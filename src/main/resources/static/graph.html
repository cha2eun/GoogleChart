<html>
<head>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
	google.charts.load("current", {packages:["corechart"]});
	google.charts.setOnLoadCallback(drawChart);
	var obj=[];
	obj.push(["부서명","사원수"]);
	
	 $.ajax("listEmp",{success:function(r){
//			alert(r)
		$.each(r,function(idx,e){
			obj.push([e.dname,e.c]);
		});
	}});
	 
	function drawChart() {
 	  var data = google.visualization.arrayToDataTable(obj);
      var options = {
      	title: '부서별 사원 수',
      	is3D: true,
      };
	  var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
 	  chart.draw(data, options);
  }
</script>
</head>
<body>
<div id="piechart_3d" style="width: 900px; height: 500px;"></div>
</body>
</html>